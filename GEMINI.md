### Instacli Project Context

This file provides context for the Gemini AI assistant.

### Project Overview

Instacli is a YAML-based scripting language for creating command-line tools. It uses a spec-driven development approach
where specifications are written in Markdown with embedded, testable YAML examples. The entire specification is used as
the test suite for the implementation.

### Key Technologies

- **Language:** Kotlin
- **Build Tool:** Gradle
- **Schema:** JSON Schema
- **HTTP Server:** Ktor (for the `Http server` command)
- **AI Integration:** Model Context Protocol (MCP)

### Architectural Principles

- The project is split into `instacli-spec` (the language specification) and `src` (the Kotlin implementation).
- Commands are implemented as singleton objects extending `instacli.language.CommandHandler`.
- The command's name and group are registered in the `CommandHandler` constructor, e.g.,
  `CommandHandler("Mcp server", "ai/mcp")`.
- The command logic is implemented in the `execute` method.

### Build, Run & Test Commands

- **Build:** `./gradlew build`
- **Run Tests:** `./gradlew test`
- **Run CLI:** `java -jar build/libs/instacli-*.jar` (or use the `cli` alias if configured)

### Coding Conventions

- **JSON Schema:** For map-like structures, use `additionalProperties: { ... }`. Do not use `patternProperties`.
- **Kotlin:** Follow the standard Kotlin style guide.
- **File Naming:** Specification files use spaces in their names (e.g., `Mcp server.spec.md`), which is important for
  file system operations.

## Git commit rules

When committing changes to the project, follow these rules:

- Use: `git commit -m "Summary" -m "content"`
- Summary:
    - Must not exceed 70 characters.
    - Write the summary as a user-focused release note item, describing the functional change or improvement from the
      perspective of a non-developer stakeholder.
    - Avoid technical or code-centric language in the summary; save those details for the content/body.
    - If a new feature is added, start the summary with the âœ¨ emoji.
    - If the code was generated by LLM, add the ðŸ¤– emoji as a second character in the summary
    - For non-functional updates (refactoring, documentation, bug fixes, etc.), do not use any emoji.
    - For invasive code structure changes without functional updates, use exactly: `Refactoring` as the summary.
    - For documentation updates, use exactly: `Documentation` as the summary.
    - For code cleanups (removing unused code, imports, fixing linter warnings, etc. without invasive refactoring), use
      exactly: `Code Cleanup` as the summary.
    - For updates to AI agent context, conversation history, distilled rules, or project meta files (such as .specstory,
      .cursor, GEMINI.md or similar), use exactly: `AI Context` as the summary. Do not mix these with other changes.
- Content:
    - Each bullet or paragraph must be a separate `-m` argument.
    - Do not use `\n` to separate topics within a single `-m` argument.
    - Do not use backticks (`) in commit messages.