Test case: Read file from disk

Read file: instacli-spec/test-suite/files/content/plain.yaml

Expected output:
  test: true
  something: else

---
Test case: Read file relative to script

Read file:
  local: content/plain.yaml

Expected output:
  test: true
  something: else

---
Test case: Read file with variable syntax

Read file: instacli-spec/test-suite/files/content/with variables.yaml
${raw}: ${out}  # triggers variable substitution

Assert that:
  - object:
      test: true
      something: else
    in:
      ${out}

---
Test case: Fill variables in file

Read file: instacli-spec/test-suite/files/content/with variables.yaml
As: raw

${unknown}: known
${nested}:
  something: there

Apply variables: ${raw}

Expected output:
  test: true
  something: else
  variable: known
  nested: there

---
Test case: Read file with variable syntax and multiple documents

Read file: instacli-spec/test-suite/files/content/multiple documents.yaml
${raw}: ${out}

Assert that:
  object:
    test: true
    something: else
  in:
    ${out}

