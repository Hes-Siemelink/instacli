Test case: Output from for each

Out: something

For each:
  ${item} in:
    - one
    - two
    - three
  Out:
    item: ${item}

Expected output:
  - item: one
  - item: two
  - item: three

---
Test case: Use Output if there is no loop variable

Out:
  - one
  - two
  - three

For each:
  Out:
    item: ${item}

Expected output:
  - item: one
  - item: two
  - item: three

---
Test case: Use output inside for each

Out: something

For each:
  ${item} in:
    - one
    - two
    - three
  Out: ${out} ${item}

Expected output:
  - something one
  - something one two
  - something one two three


---
Test case: Make sure variables are resolved at right time in Do command

${out}: something else
${test}: [ ]

For each:
  ${recipe} in:
    - Mango ice cream
    - Ratatouille
    - Meatballs
  Out: ${recipe}
As: recipes

Assert equals:
  actual: ${recipes}
  expected:
    - Mango ice cream
    - Ratatouille
    - Meatballs

---
Test case: Use variable in For each

${items}:
  - One
  - Two
  - Three
${test_result}: [ ]

For each:
  ${item} in: ${items}
  Out: (${item})
As: test_result

Assert equals:
  - actual: ${test_result}
    expected:
      - (One)
      - (Two)
      - (Three)

---
Test case: For each should output empty list when looping over an empty list

Out: something to begin with

For each:
  ${nothing} in: [ ]

  Out: something else

Expected output: [ ]

---
Test case: For each on object

For each:
  ${entry} in:
    1: one
    2: two
  Out: ${entry.value} indeed

Expected output:
  1: one indeed
  2: two indeed

---
Test case: For each with variables resolution

Out:
  agents:
    - id: 123
      alias: runner
      description: Remote runner

For each:
  ${agent} in: ${out.agents}
  Out:
    name: ${agent.alias} (${agent.description})
    value: ${agent.id}

Expected output:
  - name: runner (Remote runner)
    value: 123

