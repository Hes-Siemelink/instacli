version: "3.7"


networks:
  default:
    external: true
    name: digitalai-agents-net
#  digitalai-agents-net:
#    name: digitalai-agents-net
#    driver: bridge
#    driver_opts:
#      com.docker.network.bridge.enable_ip_masquerade: "true"

services:
  dai-agent-master:
    container_name: dai-agent-master
    image: digitalai-agent:latest
    stop_signal: SIGINT
    env_file: .dai-agent-env
    # networks:
    #   - digitalai-agents-net

    # The following is used when platform api is running locally
    # Make sure the entries are defined in host system's etc/hosts and ip addresses are correct for the host
    # extra_hosts:
    #   - "licensing.local.digitalai.cloud:157.10.11.1
    #   - "keycloak.local.digitalai.cloud:157.10.11.1
    volumes:
      - ./.digitalai:/dai-agent-master/.digitalai
      - /var/run/docker.sock:/var/run/docker.sock
